<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html lang="en"
      xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="jakarta.faces.html"
      xmlns:f="jakarta.faces.core"
      xmlns:ui="jakarta.faces.facelets">

<f:view>
    <h:head>
        <meta charset="UTF-8"/>
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <title>TravelMate - Trip Planner</title>

        <h:outputStylesheet library="css" name="style.css"/>
    </h:head>

    <h:body>

        <header class="header">
            <div style="display: flex; justify-content: space-between; align-items: center; position: relative;">
                <div style="flex: 1;"></div>
                <div style="flex: 1; text-align: center;">
                    <h1 style="margin: 0;">TravelMate</h1>
                    <p style="margin: 5px 0 0 0;">Your personal travel assistant</p>
                </div>
                <div style="flex: 1; text-align: right; color: white;">
                    <h:panelGroup rendered="#{authBean.loggedIn}">
                        <p style="margin: 5px 0; font-size: 0.9em;">
                            Logged in as: <strong>#{authBean.username}</strong>
                            <br/>
                            <span style="font-size: 0.85em;">
                                (#{authBean.admin ? 'Administrator' : 'User'})
                            </span>
                        </p>
                        <h:form style="display: inline;">
                            <h:commandButton value="Logout" actionListener="#{authBean.logout}" immediate="true"
                                         style="background: none; border: none; color: #ffeb3b; text-decoration: underline; cursor: pointer; font-size: 0.9em; padding: 0;"/>
                        </h:form>
                    </h:panelGroup>
                </div>
            </div>
        </header>
        <nav class="nav">
            <ul>
                <li><h:link outcome="/pages/category/categories" value="Categories"/></li>
            </ul>
        </nav>

        <main class="content">
            <ui:insert name="content">
                <article>
                    <header><h2>Welcome to TravelMate!</h2></header>
                    <section>
                        <p>Start planning your trips by browsing available categories.</p>
                    </section>
                </article>
            </ui:insert>
        </main>

        <footer class="footer">
            <p>2025 Gdansk University of Technology</p>
            <p>Jakarta EE Project - JEE Laboratory</p>
        </footer>

    </h:body>
</f:view>
</html>
